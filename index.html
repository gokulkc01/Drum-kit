<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Pro Drum Kit</title>
  <link rel="icon" href="https://fav.farm/üî•" />
  <style>
    :root {
      --primary-color: #ff6b6b;
      --secondary-color: #4ecdc4;
      --accent-color: #ffe66d;
      --background-color: #1a1a2e;
      --key-bg-color: #16213e;
      --text-color: #f0f0f0;
      --key-text-color: white;
      --shadow-color: rgba(0, 0, 0, 0.3);
      --transition-speed: 0.3s;
    }

    .light-mode {
      --primary-color: #ff6b6b;
      --secondary-color: #4ecdc4;
      --accent-color: #ffe66d;
      --background-color: #f8f9fa;
      --key-bg-color: #e9ecef;
      --text-color: #212529;
      --key-text-color: #212529;
      --shadow-color: rgba(0, 0, 0, 0.1);
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background: var(--background-color);
      color: var(--text-color);
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      transition: all var(--transition-speed);
      background-image: radial-gradient(circle at top right, rgba(255, 107, 107, 0.1), transparent 30%),
                        radial-gradient(circle at bottom left, rgba(78, 205, 196, 0.1), transparent 30%);
      padding: 20px;
      overflow-x: hidden;
    }

    .container {
      width: 100%;
      max-width: 1200px;
      display: flex;
      flex-direction: column;
      align-items: center;
    }

    .header {
      text-align: center;
      margin-bottom: 30px;
      width: 100%;
    }

    h1 {
      font-size: clamp(2rem, 5vw, 3.5rem);
      margin-bottom: 10px;
      background: linear-gradient(90deg, var(--primary-color), var(--secondary-color));
      -webkit-background-clip: text;
      background-clip: text;
      color: transparent;
      text-shadow: 0 2px 4px var(--shadow-color);
    }

    .subtitle {
      font-size: clamp(1rem, 3vw, 1.2rem);
      opacity: 0.8;
      max-width: 600px;
      margin: 0 auto;
    }

    .main-content {
      display: flex;
      flex-direction: column;
      width: 100%;
      gap: 30px;
    }

    .controls {
      display: flex;
      justify-content: space-between;
      align-items: center;
      width: 100%;
      margin-bottom: 10px;
      flex-wrap: wrap;
      gap: 20px;
      background: rgba(255, 255, 255, 0.05);
      padding: 15px 25px;
      border-radius: 15px;
      box-shadow: 0 4px 15px var(--shadow-color);
    }

    .control-group {
      display: flex;
      align-items: center;
      gap: 10px;
      flex-wrap: wrap;
    }

    .volume-control {
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .volume-slider {
      width: 150px;
      height: 8px;
      -webkit-appearance: none;
      background: var(--key-bg-color);
      border-radius: 10px;
      outline: none;
    }

    .volume-slider::-webkit-slider-thumb {
      -webkit-appearance: none;
      width: 20px;
      height: 20px;
      border-radius: 50%;
      background: var(--primary-color);
      cursor: pointer;
      box-shadow: 0 2px 5px var(--shadow-color);
    }

    .theme-toggle {
      background: var(--key-bg-color);
      color: var(--key-text-color);
      border: none;
      padding: 10px 20px;
      border-radius: 50px;
      cursor: pointer;
      font-size: 14px;
      transition: all 0.2s;
      display: flex;
      align-items: center;
      gap: 8px;
      box-shadow: 0 4px 6px var(--shadow-color);
    }

    .theme-toggle:hover {
      background: var(--primary-color);
      color: #000;
      transform: translateY(-2px);
    }

    .keys-container {
      width: 100%;
      display: flex;
      justify-content: center;
    }

    .keys {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 15px;
      width: 100%;
      max-width: 800px;
    }

    .key {
      border: 3px solid var(--key-bg-color);
      border-radius: 15px;
      font-size: 1.5rem;
      padding: 20px 10px;
      transition: all 0.07s;
      text-align: center;
      color: var(--key-text-color);
      background: var(--key-bg-color);
      box-shadow: 0 6px 12px var(--shadow-color);
      cursor: pointer;
      user-select: none;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      min-height: 120px;
      position: relative;
      overflow: hidden;
      touch-action: manipulation;
    }

    .key::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 5px;
      background: linear-gradient(90deg, var(--primary-color), var(--secondary-color));
      transform: scaleX(0);
      transition: transform 0.3s;
    }

    .key:hover::before {
      transform: scaleX(1);
    }

    .key:hover {
      transform: translateY(-5px);
      box-shadow: 0 10px 20px var(--shadow-color);
    }

    .key:active {
      transform: translateY(2px);
    }

    .playing {
      transform: scale(1.08);
      border-color: var(--accent-color);
      box-shadow: 0 0 25px var(--accent-color);
    }

    .playing::before {
      transform: scaleX(1);
    }

    kbd {
      display: block;
      font-size: clamp(1.8rem, 5vw, 2.8rem);
      margin-bottom: 8px;
      font-weight: bold;
      color: var(--accent-color);
    }

    .sound {
      font-size: 0.9rem;
      text-transform: uppercase;
      letter-spacing: 1.5px;
      color: var(--secondary-color);
      font-weight: 600;
    }

    .features {
      display: flex;
      flex-wrap: wrap;
      gap: 20px;
      justify-content: center;
      margin-top: 20px;
    }

    .feature {
      background: rgba(255, 255, 255, 0.05);
      padding: 15px;
      border-radius: 10px;
      text-align: center;
      flex: 1;
      min-width: 150px;
      box-shadow: 0 4px 6px var(--shadow-color);
    }

    .feature-icon {
      font-size: 2rem;
      margin-bottom: 10px;
    }

    .instructions {
      margin-top: 30px;
      text-align: center;
      max-width: 600px;
      padding: 0 20px;
      color: var(--text-color);
      opacity: 0.8;
      line-height: 1.6;
    }

    .footer {
      margin-top: 30px;
      text-align: center;
      font-size: 0.9rem;
      opacity: 0.6;
    }

    /* Animation for key press */
    @keyframes pulse {
      0% { box-shadow: 0 0 0 0 rgba(255, 230, 109, 0.7); }
      70% { box-shadow: 0 0 0 10px rgba(255, 230, 109, 0); }
      100% { box-shadow: 0 0 0 0 rgba(255, 230, 109, 0); }
    }

    .playing {
      animation: pulse 0.5s;
    }

    /* Mobile-specific styles */
    @media (max-width: 768px) {
      .keys {
        grid-template-columns: repeat(2, 1fr);
        gap: 12px;
      }
      
      .key {
        min-height: 100px;
        padding: 15px 5px;
      }
      
      .controls {
        flex-direction: column;
        align-items: center;
        gap: 15px;
        padding: 15px;
      }
      
      .control-group {
        justify-content: center;
      }
      
      .features {
        flex-direction: column;
        gap: 10px;
      }
      
      .feature {
        min-width: 100%;
      }
    }

    @media (max-width: 480px) {
      body {
        padding: 10px;
      }
      
      .keys {
        grid-template-columns: 1fr;
        gap: 10px;
      }
      
      .key {
        min-height: 90px;
        padding: 12px 5px;
      }
      
      .controls {
        padding: 12px;
      }
      
      .volume-slider {
        width: 120px;
      }
    }

    /* Landscape mode optimization */
    @media (max-height: 500px) and (orientation: landscape) {
      body {
        padding: 10px;
        justify-content: flex-start;
      }
      
      .header {
        margin-bottom: 15px;
      }
      
      .keys {
        grid-template-columns: repeat(3, 1fr);
        gap: 8px;
      }
      
      .key {
        min-height: 80px;
        padding: 10px 5px;
      }
      
      kbd {
        font-size: 1.5rem;
      }
      
      .sound {
        font-size: 0.8rem;
      }
    }

    /* Extra small devices */
    @media (max-width: 350px) {
      .keys {
        grid-template-columns: 1fr;
      }
      
      .key {
        min-height: 80px;
      }
      
      kbd {
        font-size: 1.5rem;
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="header">
      <h1>Pro Drum Kit</h1>
      <p class="subtitle">Create beats with keyboard keys or by tapping the pads</p>
    </div>
    
    <div class="main-content">
      <div class="controls">
        <div class="control-group">
          <div class="volume-control">
            <span>üîä</span>
            <input type="range" id="volume" class="volume-slider" min="0" max="1" step="0.1" value="0.7">
          </div>
        </div>
        <button class="theme-toggle" id="themeToggle">
          <span>üåô</span> Toggle Dark Mode
        </button>
      </div>
      
      <div class="keys-container">
        <div class="keys">
          <div data-key="65" class="key">
            <kbd>A</kbd>
            <span class="sound">clap</span>
          </div>
          <div data-key="83" class="key">
            <kbd>S</kbd>
            <span class="sound">hihat</span>
          </div>
          <div data-key="68" class="key">
            <kbd>D</kbd>
            <span class="sound">kick</span>
          </div>
          <div data-key="70" class="key">
            <kbd>F</kbd>
            <span class="sound">openhat</span>
          </div>
          <div data-key="71" class="key">
            <kbd>G</kbd>
            <span class="sound">boom</span>
          </div>
          <div data-key="72" class="key">
            <kbd>H</kbd>
            <span class="sound">ride</span>
          </div>
          <div data-key="74" class="key">
            <kbd>J</kbd>
            <span class="sound">snare</span>
          </div>
          <div data-key="75" class="key">
            <kbd>K</kbd>
            <span class="sound">tom</span>
          </div>
          <div data-key="76" class="key">
            <kbd>L</kbd>
            <span class="sound">tink</span>
          </div>
        </div>
      </div>
      
      <div class="features">
        <div class="feature">
          <div class="feature-icon">üéπ</div>
          <h3>Keyboard Control</h3>
          <p>Use A-L keys to play</p>
        </div>
        <div class="feature">
          <div class="feature-icon">üëÜ</div>
          <h3>Touch Friendly</h3>
          <p>Optimized for mobile</p>
        </div>
        <div class="feature">
          <div class="feature-icon">üéöÔ∏è</div>
          <h3>Volume Control</h3>
          <p>Adjust sound level</p>
        </div>
        <div class="feature">
          <div class="feature-icon">üåì</div>
          <h3>Dark/Light Mode</h3>
          <p>Choose your theme</p>
        </div>
      </div>
    </div>

    <div class="instructions">
      <p>Play the drum kit using your keyboard (A-L keys) or by tapping on the pads.</p>
      <p>Adjust the volume with the slider and toggle between light and dark modes.</p>
    </div>

    <div class="footer">
      <p>Pro Drum Kit &copy; 2023 | Made with ‚ô•</p>
    </div>
  </div>

  <!-- Audio elements with reliable sources -->
    <audio data-key="65" src="./sounds/clap.wav"></audio>
  <audio data-key="83" src="./sounds/hihat.wav"></audio>
  <audio data-key="68" src="./sounds/kick.wav"></audio>
  <audio data-key="70" src="./sounds/openhat.wav"></audio>
  <audio data-key="71" src="./sounds/boom.wav"></audio>
  <audio data-key="72" src="./sounds/ride.wav"></audio>
  <audio data-key="74" src="./sounds/snare.wav"></audio>
  <audio data-key="75" src="./sounds/tom.wav"></audio>
  <audio data-key="76" src="./sounds/tink.wav"></audio>

  <script>
    // Function to play sound
    function playSound(e) {
      let keyCode;
      
      // Determine if event is from keyboard, mouse, or touch
      if (e.type === 'keydown') {
        keyCode = e.keyCode;
      } else if (e.type === 'click' || e.type === 'touchstart') {
        keyCode = this.getAttribute('data-key');
        e.preventDefault(); // Prevent default for touch events
      }
      
      const audio = document.querySelector(`audio[data-key="${keyCode}"]`);
      const key = document.querySelector(`.key[data-key="${keyCode}"]`);
      
      if (!audio) return;
      
      // Set volume from slider
      const volumeSlider = document.getElementById('volume');
      audio.volume = volumeSlider.value;
      
      // Reset and play audio
      audio.currentTime = 0;
      audio.play().catch(e => {
        console.log("Audio play failed:", e);
        // If online audio fails, try to use the base64 fallback
        playFallbackSound(keyCode);
      });
      
      // Add playing class for visual feedback
      key.classList.add('playing');
    }

    // Fallback function in case online audio fails
    function playFallbackSound(keyCode) {
      // In a real implementation, you would add base64 encoded audio strings here
      console.log("Playing fallback sound for key:", keyCode);
      // For now, we'll just log the issue
      console.log("Audio source might be unavailable. Please check your connection.");
    }

    function removeTransition(e) {
      if (e.propertyName !== 'transform') return;
      this.classList.remove('playing');
    }

    // Set up event listeners
    const keys = document.querySelectorAll('.key');
    keys.forEach(key => {
      key.addEventListener('transitionend', removeTransition);
      key.addEventListener('click', playSound);
      key.addEventListener('touchstart', playSound, { passive: false });
    });

    window.addEventListener('keydown', playSound);

    // Theme toggle functionality
    const themeToggle = document.getElementById('themeToggle');
    themeToggle.addEventListener('click', () => {
      document.body.classList.toggle('light-mode');
      const isLightMode = document.body.classList.contains('light-mode');
      themeToggle.innerHTML = isLightMode 
        ? '<span>‚òÄÔ∏è</span> Toggle Dark Mode' 
        : '<span>üåô</span> Toggle Light Mode';
    });

    // Volume control functionality
    const volumeSlider = document.getElementById('volume');
    volumeSlider.addEventListener('input', () => {
      // Update volume for all audio elements
      const audios = document.querySelectorAll('audio');
      audios.forEach(audio => {
        audio.volume = volumeSlider.value;
      });
    });

    // Add keyboard focus for accessibility
    keys.forEach(key => {
      key.setAttribute('tabindex', '0');
    });

    // Prevent zoom on double-tap for mobile
    let lastTouchEnd = 0;
    document.addEventListener('touchend', function (event) {
      const now = (new Date()).getTime();
      if (now - lastTouchEnd <= 300) {
        event.preventDefault();
      }
      lastTouchEnd = now;
    }, false);
  </script>
</body>
</html>